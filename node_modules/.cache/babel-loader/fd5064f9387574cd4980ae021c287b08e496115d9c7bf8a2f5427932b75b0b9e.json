{"ast":null,"code":"import { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-605161b7\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_right_toolbar = _resolveComponent(\"right-toolbar\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createVNode(_component_el_form, {\n    model: $setup.queryParams,\n    ref: \"queryRef\",\n    inline: true,\n    \"label-width\": \"68px\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"团号\",\n      prop: \"groupNum\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.queryParams.groupNum,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.queryParams.groupNum = $event),\n        placeholder: \"请输入团号\",\n        clearable: \"\",\n        onKeyup: _withKeys($setup.handleQuery, [\"enter\"])\n      }, null, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"收付款类别\",\n      prop: \"payBank\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: $setup.queryParams.payBank,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.queryParams.payBank = $event),\n        placeholder: \"请选择收付款类别\",\n        clearable: \"\",\n        style: {\n          \"width\": \"150px\"\n        },\n        onKeyup: _withKeys($setup.handleQuery, [\"enter\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"建行A\",\n          value: \"建行A\"\n        }), _createVNode(_component_el_option, {\n          label: \"建行B\",\n          value: \"建行B\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"委托社\",\n      prop: \"entrustment\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: $setup.queryParams.entrustment,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.queryParams.entrustment = $event),\n        placeholder: \"请选择委托社\",\n        clearable: \"\",\n        style: {\n          \"width\": \"150px\"\n        },\n        onKeyup: _withKeys($setup.handleQuery, [\"enter\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"委托社A\",\n          value: \"委托社A\"\n        }), _createVNode(_component_el_option, {\n          label: \"委托社B\",\n          value: \"委托社B\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"收付款日期\",\n      prop: \"applyTime\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n        clearable: \"\",\n        modelValue: $setup.queryParams.applyTime,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.queryParams.applyTime = $event),\n        type: \"date\",\n        \"value-format\": \"YYYY-MM-DD\",\n        placeholder: \"请选择申请时间\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"操作人\",\n      prop: \"operator\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: $setup.queryParams.operator,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.queryParams.operator = $event),\n        placeholder: \"请选择操作人\",\n        clearable: \"\",\n        style: {\n          \"width\": \"150px\"\n        },\n        onKeyup: _withKeys($setup.handleQuery, [\"enter\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"Admin01\",\n          value: \"Admin01\"\n        }), _createVNode(_component_el_option, {\n          label: \"Admin02\",\n          value: \"Admin02\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        icon: \"Search\",\n        onClick: $setup.handleQuery\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"搜索\")]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        icon: \"Refresh\",\n        onClick: $setup.resetQuery\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"重置\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"]), [[_vShow, $setup.showSearch]]), _createVNode(_component_el_row, {\n    gutter: 10,\n    class: \"mb8\"\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" <el-col :span=\\\"1.5\\\">\\r\\n          <el-button\\r\\n            type=\\\"primary\\\"\\r\\n            plain\\r\\n            icon=\\\"Plus\\\"\\r\\n            @click=\\\"handleAdd\\\"\\r\\n          >新增</el-button>\\r\\n        </el-col> \"), _createCommentVNode(\" <el-col :span=\\\"1.5\\\">\\r\\n          <el-button\\r\\n            type=\\\"success\\\"\\r\\n            plain\\r\\n            icon=\\\"Edit\\\"\\r\\n            :disabled=\\\"single\\\"\\r\\n            @click=\\\"handleUpdate\\\"\\r\\n          >修改</el-button>\\r\\n        </el-col> \"), _createCommentVNode(\" <el-col :span=\\\"1.5\\\">\\r\\n          <el-button\\r\\n            type=\\\"danger\\\"\\r\\n            plain\\r\\n            icon=\\\"Delete\\\"\\r\\n            :disabled=\\\"multiple\\\"\\r\\n            @click=\\\"handleDelete\\\"\\r\\n          >删除</el-button>\\r\\n        </el-col> \"), _createVNode(_component_el_col, {\n      span: 1.5\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"warning\",\n        plain: \"\",\n        icon: \"Download\",\n        onClick: $setup.handleExport\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"导出*\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_right_toolbar, {\n      showSearch: $setup.showSearch,\n      \"onUpdate:showSearch\": _cache[5] || (_cache[5] = $event => $setup.showSearch = $event),\n      onQueryTable: $setup.getList\n    }, null, 8 /* PROPS */, [\"showSearch\"])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_table, {\n    data: $setup.reimbursement_infoList\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      label: \"序号\",\n      type: \"index\",\n      width: \"50\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"id\",\n      label: \"ID\",\n      width: \"80\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"groupNum\",\n      label: \"团号\",\n      width: \"80\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"type\",\n      label: \"类型\",\n      width: \"80\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"cash\",\n      label: \"金额(元)\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"info\",\n      label: \"项目\",\n      width: \"250\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"payBank\",\n      label: \"收付款方式\",\n      width: \"80\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"operateTime\",\n      label: \"收付款日期\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"entrustment\",\n      label: \"委托社\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"operator\",\n      label: \"操作人\"\n    }), _createVNode(_component_el_table_column, {\n      align: \"center\",\n      prop: \"applicant\",\n      label: \"申请人\"\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createCommentVNode(\"@click=\\\"handleUpdate(row)\\\" @click=\\\"handleDelete01(row)\\\" \"), _withDirectives(_createVNode(_component_el_pagination, {\n    total: $setup.total,\n    page: $setup.queryParams.pageNum,\n    \"onUpdate:page\": _cache[6] || (_cache[6] = $event => $setup.queryParams.pageNum = $event),\n    limit: $setup.queryParams.pageSize,\n    \"onUpdate:limit\": _cache[7] || (_cache[7] = $event => $setup.queryParams.pageSize = $event),\n    onPagination: $setup.getList\n  }, null, 8 /* PROPS */, [\"total\", \"page\", \"limit\"]), [[_vShow, $setup.total > 0]]), _createCommentVNode(\" 添加或修改报销信息对话框 \"), _createCommentVNode(\" <el-dialog :title=\\\"title\\\" v-model=\\\"open\\\" width=\\\"500px\\\" append-to-body>\\r\\n        <el-form ref=\\\"reimbursement_infoRef\\\" :model=\\\"form\\\" :rules=\\\"rules\\\" label-width=\\\"80px\\\">\\r\\n          <el-form-item label=\\\"申请人\\\" prop=\\\"name\\\">\\r\\n            <el-input v-model=\\\"form.name\\\" placeholder=\\\"请输入申请人\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"地区\\\" prop=\\\"region\\\">\\r\\n            <el-input v-model=\\\"form.region\\\" placeholder=\\\"请输入地区\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"报销金额\\\" prop=\\\"cash\\\">\\r\\n            <el-input v-model=\\\"form.cash\\\" placeholder=\\\"请输入报销金额\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"备注\\\" prop=\\\"info\\\">\\r\\n            <el-input v-model=\\\"form.info\\\" placeholder=\\\"请输入备注\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"报销时间\\\" prop=\\\"applyTime\\\">\\r\\n            <el-date-picker clearable\\r\\n              v-model=\\\"form.applyTime\\\"\\r\\n              type=\\\"date\\\"\\r\\n              value-format=\\\"YYYY-MM-DD\\\"\\r\\n              placeholder=\\\"请选择报销时间\\\">\\r\\n            </el-date-picker>\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"审核评价\\\" prop=\\\"comment\\\">\\r\\n            <el-input v-model=\\\"form.comment\\\" placeholder=\\\"请输入审核评价\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"摊销开始时间\\\" prop=\\\"amoStartTime\\\">\\r\\n            <el-date-picker clearable\\r\\n              v-model=\\\"form.amoStartTime\\\"\\r\\n              type=\\\"date\\\"\\r\\n              value-format=\\\"YYYY-MM-DD\\\"\\r\\n              placeholder=\\\"请选择摊销开始时间\\\">\\r\\n            </el-date-picker>\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"摊销结束时间\\\" prop=\\\"amoEndTime\\\">\\r\\n            <el-date-picker clearable\\r\\n              v-model=\\\"form.amoEndTime\\\"\\r\\n              type=\\\"date\\\"\\r\\n              value-format=\\\"YYYY-MM-DD\\\"\\r\\n              placeholder=\\\"请选择摊销结束时间\\\">\\r\\n            </el-date-picker>\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"报销开户行\\\" prop=\\\"bankName\\\">\\r\\n            <el-input v-model=\\\"form.bankName\\\" placeholder=\\\"请输入报销开户行\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"报销账号\\\" prop=\\\"bankId\\\">\\r\\n            <el-input v-model=\\\"form.bankId\\\" placeholder=\\\"请输入报销账号\\\" />\\r\\n          </el-form-item>\\r\\n          <el-form-item label=\\\"票据文件*\\\" prop=\\\"receiptInfo\\\">\\r\\n            <file-upload v-model=\\\"form.receiptInfo\\\"/>\\r\\n          </el-form-item>\\r\\n        </el-form>\\r\\n        <template #footer>\\r\\n          <div class=\\\"dialog-footer\\\">\\r\\n            <el-button type=\\\"primary\\\" @click=\\\"submitForm\\\">确 定</el-button>\\r\\n            <el-button @click=\\\"cancel\\\">取 消</el-button>\\r\\n          </div>\\r\\n        </template>\\r\\n      </el-dialog> \")]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_form","model","$setup","queryParams","ref","inline","_component_el_form_item","label","prop","_component_el_input","groupNum","$event","placeholder","clearable","onKeyup","_withKeys","handleQuery","_component_el_select","payBank","style","_component_el_option","value","entrustment","_component_el_date_picker","applyTime","type","operator","_component_el_button","icon","onClick","resetQuery","showSearch","_component_el_row","gutter","_createCommentVNode","_component_el_col","span","plain","handleExport","_component_right_toolbar","onQueryTable","getList","_component_el_table","data","reimbursement_infoList","_component_el_table_column","width","align","_component_el_pagination","total","page","pageNum","limit","pageSize","onPagination"],"sources":["D:\\SoftwareForProject\\Data\\erp20250111\\erp_\\src\\views\\receipt\\receipt.vue"],"sourcesContent":["<template>\r\n    <div class=\"app-container\">\r\n      <el-form :model=\"queryParams\" ref=\"queryRef\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n        <el-form-item label=\"团号\" prop=\"groupNum\">\r\n          <el-input\r\n            v-model=\"queryParams.groupNum\"\r\n            placeholder=\"请输入团号\"\r\n            clearable\r\n            @keyup.enter=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"收付款类别\" prop=\"payBank\">\r\n          <el-select\r\n            v-model=\"queryParams.payBank\"\r\n            placeholder=\"请选择收付款类别\"\r\n            clearable\r\n            style=\"width: 150px;\"\r\n            @keyup.enter=\"handleQuery\"\r\n          >\r\n            <el-option label=\"建行A\" value=\"建行A\"></el-option>\r\n            <el-option label=\"建行B\" value=\"建行B\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"委托社\" prop=\"entrustment\">\r\n          <el-select\r\n            v-model=\"queryParams.entrustment\"\r\n            placeholder=\"请选择委托社\"\r\n            clearable\r\n            style=\"width: 150px;\"\r\n            @keyup.enter=\"handleQuery\"\r\n          >\r\n            <el-option label=\"委托社A\" value=\"委托社A\"></el-option>\r\n            <el-option label=\"委托社B\" value=\"委托社B\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"收付款日期\" prop=\"applyTime\">\r\n          <el-date-picker clearable\r\n            v-model=\"queryParams.applyTime\"\r\n            type=\"date\"\r\n            value-format=\"YYYY-MM-DD\"\r\n            placeholder=\"请选择申请时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"操作人\" prop=\"operator\">\r\n          <el-select\r\n            v-model=\"queryParams.operator\"\r\n            placeholder=\"请选择操作人\"\r\n            clearable\r\n            style=\"width: 150px;\"\r\n            @keyup.enter=\"handleQuery\"\r\n          >\r\n            <el-option label=\"Admin01\" value=\"Admin01\"></el-option>\r\n            <el-option label=\"Admin02\" value=\"Admin02\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"Search\" @click=\"handleQuery\">搜索</el-button>\r\n          <el-button icon=\"Refresh\" @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n  \r\n      <el-row :gutter=\"10\" class=\"mb8\">\r\n        <!-- <el-col :span=\"1.5\">\r\n          <el-button\r\n            type=\"primary\"\r\n            plain\r\n            icon=\"Plus\"\r\n            @click=\"handleAdd\"\r\n          >新增</el-button>\r\n        </el-col> -->\r\n        <!-- <el-col :span=\"1.5\">\r\n          <el-button\r\n            type=\"success\"\r\n            plain\r\n            icon=\"Edit\"\r\n            :disabled=\"single\"\r\n            @click=\"handleUpdate\"\r\n          >修改</el-button>\r\n        </el-col> -->\r\n        <!-- <el-col :span=\"1.5\">\r\n          <el-button\r\n            type=\"danger\"\r\n            plain\r\n            icon=\"Delete\"\r\n            :disabled=\"multiple\"\r\n            @click=\"handleDelete\"\r\n          >删除</el-button>\r\n        </el-col> -->\r\n        <el-col :span=\"1.5\">\r\n          <el-button\r\n            type=\"warning\"\r\n            plain\r\n            icon=\"Download\"\r\n            @click=\"handleExport\"\r\n          >导出*</el-button>\r\n        </el-col>\r\n        <right-toolbar v-model:showSearch=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n      </el-row>\r\n  \r\n      <el-table :data=\"reimbursement_infoList\">\r\n        <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\" />\r\n        <el-table-column align=\"center\" prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"groupNum\" label=\"团号\" width=\"80\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"type\" label=\"类型\" width=\"80\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"cash\" label=\"金额(元)\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"info\" label=\"项目\" width=\"250\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"payBank\" label=\"收付款方式\" width=\"80\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"operateTime\" label=\"收付款日期\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"entrustment\" label=\"委托社\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"operator\" label=\"操作人\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"applicant\" label=\"申请人\"></el-table-column>\r\n      </el-table>\r\n      <!--@click=\"handleUpdate(row)\" @click=\"handleDelete01(row)\" -->\r\n      \r\n      <el-pagination\r\n        v-show=\"total>0\"\r\n        :total=\"total\"\r\n        v-model:page=\"queryParams.pageNum\"\r\n        v-model:limit=\"queryParams.pageSize\"\r\n        @pagination=\"getList\"\r\n      />\r\n  \r\n      <!-- 添加或修改报销信息对话框 -->\r\n      <!-- <el-dialog :title=\"title\" v-model=\"open\" width=\"500px\" append-to-body>\r\n        <el-form ref=\"reimbursement_infoRef\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n          <el-form-item label=\"申请人\" prop=\"name\">\r\n            <el-input v-model=\"form.name\" placeholder=\"请输入申请人\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"地区\" prop=\"region\">\r\n            <el-input v-model=\"form.region\" placeholder=\"请输入地区\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"报销金额\" prop=\"cash\">\r\n            <el-input v-model=\"form.cash\" placeholder=\"请输入报销金额\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"备注\" prop=\"info\">\r\n            <el-input v-model=\"form.info\" placeholder=\"请输入备注\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"报销时间\" prop=\"applyTime\">\r\n            <el-date-picker clearable\r\n              v-model=\"form.applyTime\"\r\n              type=\"date\"\r\n              value-format=\"YYYY-MM-DD\"\r\n              placeholder=\"请选择报销时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"审核评价\" prop=\"comment\">\r\n            <el-input v-model=\"form.comment\" placeholder=\"请输入审核评价\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"摊销开始时间\" prop=\"amoStartTime\">\r\n            <el-date-picker clearable\r\n              v-model=\"form.amoStartTime\"\r\n              type=\"date\"\r\n              value-format=\"YYYY-MM-DD\"\r\n              placeholder=\"请选择摊销开始时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"摊销结束时间\" prop=\"amoEndTime\">\r\n            <el-date-picker clearable\r\n              v-model=\"form.amoEndTime\"\r\n              type=\"date\"\r\n              value-format=\"YYYY-MM-DD\"\r\n              placeholder=\"请选择摊销结束时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"报销开户行\" prop=\"bankName\">\r\n            <el-input v-model=\"form.bankName\" placeholder=\"请输入报销开户行\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"报销账号\" prop=\"bankId\">\r\n            <el-input v-model=\"form.bankId\" placeholder=\"请输入报销账号\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"票据文件*\" prop=\"receiptInfo\">\r\n            <file-upload v-model=\"form.receiptInfo\"/>\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n          <div class=\"dialog-footer\">\r\n            <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n            <el-button @click=\"cancel\">取 消</el-button>\r\n          </div>\r\n        </template>\r\n      </el-dialog> -->\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup >\r\n  import { ref, reactive, getCurrentInstance, toRefs, Teleport } from \"vue\";\r\n  import { ElMessageBox, ElMessage } from 'element-plus';\r\n  \r\n  // const { proxy } = getCurrentInstance();\r\n  \r\n  const reimbursement_infoList = ref([]);\r\n  const open = ref(false);\r\n  const loading = ref(true);\r\n  const showSearch = ref(true);\r\n  const ids = ref([]);\r\n  const single = ref(true);\r\n  const multiple = ref(true);\r\n  const total = ref(0);\r\n  const title = ref(\"\");\r\n  \r\n  const data = reactive({\r\n    form: {},\r\n    queryParams: {\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      operator: null,\r\n      groupNum: null,\r\n      cash: null,\r\n      applyTime: null,\r\n      operateTime: null,\r\n      type: null,\r\n      entrustment: null,\r\n    },\r\n    rules: {\r\n      id: [\r\n        { required: true, message: \"ID不能为空\", trigger: \"blur\" }\r\n      ],\r\n      applicant: [\r\n        { required: true, message: \"申请人不能为空\", trigger: \"blur\" }\r\n      ],\r\n      region: [\r\n        { required: true, message: \"地区不能为空\", trigger: \"blur\" }\r\n      ],\r\n      type: [\r\n        { required: true, message: \"报销费用类型不能为空\", trigger: \"change\" }\r\n      ],\r\n      cash: [\r\n        { required: true, message: \"报销金额不能为空\", trigger: \"blur\" }\r\n      ],\r\n      applyTime: [\r\n        { required: true, message: \"报销时间不能为空\", trigger: \"blur\" }\r\n      ],\r\n      bankName: [\r\n        { required: true, message: \"报销开户行不能为空\", trigger: \"blur\" }\r\n      ],\r\n      bankId: [\r\n        { required: true, message: \"报销账号不能为空\", trigger: \"blur\" }\r\n      ],\r\n    }\r\n  });\r\n  \r\n  const { queryParams, form, rules } = toRefs(data);\r\n  \r\n  function fetchData() {\r\n    // 模拟从后端获取数据\r\n    const datas = [\r\n      { \r\n        id: '10001', groupNum: \"20250101-ABC\", type: \"应收款——团费\", \r\n        info: \"挪团改行程。实际金额执行总社：三类客户，总社扣点0%，人头费0不扣（只在团费中扣），已批准，\", \r\n        cash: \"1300\", entrustment: \"委托社A\", payBank: \" \",\r\n        operateTime: \"2024-12-21\", operator: \"Admin01\", applicant: \"小张\"\r\n      },\r\n      { \r\n        id: '10002', groupNum: \"20250102-N-FC109\", type: \"实收款\", \r\n        info: \"定损金额\", \r\n        cash: \"1300\", entrustment: \"委托社B\", payBank: \"建行B\",\r\n        operateTime: \"2024-12-24\", operator: \" \", applicant: \"小李\"\r\n      }\r\n    ];\r\n  \r\n    // 更新reimbursement_infoList\r\n    reimbursement_infoList.value = datas;\r\n    console.log(datas);\r\n  }\r\n  \r\n  fetchData();\r\n  \r\n  /** 查询报销信息列表 */\r\n  function getList() {\r\n    loading.value = true;\r\n    const { operator, groupNum, cash, payBank, type, operateTime, entrustment } = queryParams.value;\r\n    \r\n    // 根据 queryParams.value 的条件筛选 reimbursement_infoList\r\n    const filteredList = reimbursement_infoList.value.filter(item => {\r\n      return (\r\n        (!operator || item.operator === operator) &&\r\n        (!operateTime || item.operateTime === operateTime) &&\r\n        (!groupNum || item.groupNum === groupNum) &&\r\n        (!type || item.type === type) &&\r\n        (!cash || item.cash === cash) &&\r\n        (!entrustment || item.entrustment === entrustment) &&\r\n        (!payBank || item.payBank === payBank)\r\n      );\r\n    });\r\n    \r\n    // 更新筛选后的列表和总条数\r\n    reimbursement_infoList.value = filteredList;\r\n    total.value = filteredList.length;\r\n    \r\n    loading.value = false;\r\n  }\r\n  \r\n  // 取消按钮\r\n  function cancel() {\r\n    open.value = false;\r\n    reset();\r\n  }\r\n  \r\n  // 表单重置\r\n  function reset() {\r\n    form.value = {\r\n      id: null,\r\n      \r\n    };\r\n    proxy.resetForm(\"reimbursement_infoRef\");\r\n  }\r\n  \r\n  /** 搜索按钮操作 */\r\n  function handleQuery() {\r\n    queryParams.operator = form.operator;\r\n    queryParams.operateTime = form.operateTime;\r\n    queryParams.cash = form.cash;\r\n    queryParams.payBank = form.payBank;\r\n    queryParams.type = form.type;\r\n    queryParams.entrustment = form.entrustment;\r\n    queryParams.groupNum = form.groupNum;\r\n    getList();\r\n  }\r\n  \r\n  /** 重置按钮操作 */\r\n  function resetQuery() {\r\n    // 重置查询参数为初始值\r\n    queryParams.value = {\r\n      operator: '',\r\n      type: '',\r\n      cash: '',\r\n      groupNum: '',\r\n      entrustment: '',\r\n      operateTime: '',\r\n      payBank: ''\r\n    };\r\n    \r\n    // 调用 getList 方法重新获取数据\r\n    getList();\r\n  }\r\n  \r\n  // 多选框选中数据\r\n  function handleSelectionChange(selection) {\r\n    ids.value = selection.map(item => item.id);\r\n    single.value = selection.length != 1;\r\n    multiple.value = !selection.length;\r\n  }\r\n  \r\n  /** 新增按钮操作 */\r\n  function handleAdd() {\r\n    reset();\r\n    open.value = true;\r\n    title.value = \"添加报销信息\";\r\n  }\r\n  \r\n  /** 修改按钮操作 */\r\n  function handleUpdate(row) {\r\n    reset();\r\n    const _id = row.id || ids.value\r\n    getReimbursement_info(_id).then(response => {\r\n      form.value = response.data;\r\n      open.value = true;\r\n      title.value = \"修改报销信息\";\r\n    });\r\n  }\r\n  \r\n  /** 提交按钮 */\r\n  function submitForm() {\r\n    proxy.$refs[\"reimbursement_infoRef\"].validate(valid => {\r\n      if (valid) {\r\n        if (form.value.id != null) {\r\n          updateReimbursement_info(form.value).then(response => {\r\n            proxy.$modal.msgSuccess(\"修改成功\");\r\n            open.value = false;\r\n            getList();\r\n          });\r\n        } else {\r\n          addReimbursement_info(form.value).then(response => {\r\n            proxy.$modal.msgSuccess(\"新增成功\");\r\n            open.value = false;\r\n            getList();\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  \r\n  /** 删除按钮操作 */\r\n  function handleDelete(row) {\r\n      ElMessageBox.confirm('此操作驳回该申请, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(() => {\r\n          // 找到并删除对应的行\r\n          const index = reimbursement_infoList.value.findIndex(item => item === row);\r\n          if (index !== -1) {\r\n            reimbursement_infoList.value.splice(index, 1);\r\n          }\r\n          ElMessage({\r\n            type: 'success',\r\n            message: '驳回成功!',\r\n          });\r\n        })\r\n        .catch(() => {\r\n          ElMessage({\r\n            type: 'info',\r\n            message: '已取消驳回',\r\n          });\r\n        });\r\n    };\r\n\r\n    function handleOK(row) {\r\n      ElMessageBox.confirm('此操作同意该申请, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(() => {\r\n          // 找到并删除对应的行\r\n          const index = reimbursement_infoList.value.findIndex(item => item === row);\r\n          if (index !== -1) {\r\n            reimbursement_infoList.value.splice(index, 1);\r\n          }\r\n          ElMessage({\r\n            type: 'success',\r\n            message: '审核成功!',\r\n          });\r\n        })\r\n        .catch(() => {\r\n          ElMessage({\r\n            type: 'info',\r\n            message: '已取消审阅',\r\n          });\r\n        });\r\n    };\r\n  \r\n  /** 导出按钮操作 */\r\n  function handleExport() {\r\n    ElMessage.warning('暂未连接数据库，Excel表导出功能暂不能使用');\r\n  }\r\n  \r\n  getList();\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* .container-part {\r\n    height: 100%;\r\n  \r\n    height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .form-part {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: 40px;\r\n    padding: 8px;\r\n    margin: 4px 0;\r\n    border-radius: 6px;\r\n    background-color: #ffffff;\r\n    box-shadow: 3px -3px 4px -3px rgb(157, 154, 154);\r\n    倒角\r\n  \r\n  }\r\n  \r\n  .table-part {\r\n    flex: 1;\r\n    box-shadow: 3px -3px 4px -3px rgb(157, 155, 155);\r\n    padding: 8px;\r\n    margin: 4px 0;\r\n    border-radius: 8px;\r\n  }\r\n  \r\n  .page-part {\r\n    height: 10px;\r\n  \r\n    padding: 10px;\r\n    border-radius: 6px;\r\n    background-color: #ffffff;\r\n  } */\r\n  </style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}